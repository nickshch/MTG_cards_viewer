Смотрелка карт Magic: the Gathering
===================================

Простой веб-сервис, в котором пользователь авторизуется, вводит название карт и получает их изображения за деньги.

Установка
--------------------

1. Устанавливаем зависимости
```` shell
$ pip install -r requirements.txt
````
2. Импортируем дамп базы данных
```` shell
$ mysql -u <username> -p<PlainPassword> mtgcards_db < <filename.sql>
````
3. Распаковываем архив с изображениями карт
```` shell
$ unrar x images.rar mtgcards_service/cards/static/cards
````
4. Запускаем сервер
```` shell
$ python mtgcards_service/manage.py runserver
````
5. Данные администратора
````
Login: admin
Password: adminadmin
````

Как собрать свою базу
--------------------

Собираем данные о карточках с фанатского сайта, запустив следующий скрипт
```` shell
$ python mtgcards_service/tools/cards_info_scrapper.py
````
Затем скачиваем все изображения, найденные на фанатском сайте
```` shell
$ python mtgcards_service/tools/card_images_downloader.py
````
Загружаем данные о карточках в базу
```` shell
$ python mtgcards_service/tools/push_cards_to_database.py
````

Magic: the Gathering
--------------------

MTG — это популярная коллекционная карточная игра.
В интернете есть официальная база карт от разработчиков,
но в качестве источника картинок предлагается использовать фанатский сайт http://magiccards.info.

У одной карты может быть много разных изданий на разных языках. Для нашей задачи подойдет любая версия.

Нужно по возможности как можно реже ходить на сторонний сайт за картинками.

Авторизация
-----------

Используется простая авторизация по логину и паролю. Регистрация в этой задаче не предусмотрена.

Поиск
-----

Карты ищутся по полному совпадению имени. Например, так выглядит результат поиска по заросу `Python`:

[![](http://magiccards.info/scans/en/6e/150.jpg)](http://magiccards.info/6e/en/150.html)

Оплата
------

У каждого пользователя есть некоторый баланс, который отображается в интерфейсе.
С него списывается фиксированная сумма за каждый запрос, *который пользователь не делал ранее*.
Все повторные запросы того же пользователя обслуживаются бесплатно. При недостаточном балансе запрос не обслуживается.

Пополнение баланса в этой задаче не предусмотрено.
